# ===============================
#  Ansible Configuration File
# ===============================

[defaults]
# ----- Output and Colors -----
# Force colored output
force_color = True
# Explicitly disable 'nocolor' (often implied by force_color)
nocolor = False
# The string to add to the top of files managed by Ansible templates
ansible_managed = Ansible managed, do not edit manually!
# Default timeout in seconds for tasks, plugins, and connections
timeout = 60
# SECURITY WARNING: Disables SSH host key validation.
host_key_checking = False
# Suppress warnings about module-specific behaviors (e.g., using 'command' vs. a dedicated module)
action_warnings = False
# Use the 'yaml' callback for more readable, structured output (better for K8s/JSON)
stdout_callback = ansible.builtin.default
# Enable plugins to time execution (timer) and profile the slowest tasks (profile_tasks)
callbacks_enabled = timer, profile_tasks

# ===============================
#  Connection Settings
# ===============================

[ssh_connection]
# Number of SSH connection retries (Default: 3)
retries = 10
# PERFORMANCE: Enable SSH pipelining, reducing overhead (Default: False)
pipelining = True
# Custom arguments for the SSH command:
#   -o ControlMaster=auto       (Enables SSH connection multiplexing - reuse)
#   -o ControlPersist=60s       (Keeps the master connection open for 60s)
#   -o PreferredAuthentications=publickey (Prioritizes public key authentication)
#   -o StrictHostKeyChecking=no (Corresponds to 'host_key_checking = False')
#   -o KbdInteractiveAuthentication=no  (Prevents SSH from "hanging" on password prompts)
ssh_args = -o ControlMaster=auto -o ControlPersist=60s \
           -o PreferredAuthentications=publickey \
           -o StrictHostKeyChecking=no \
           -o KbdInteractiveAuthentication=no

[persistent_connection]
# Settings for persistent connections (e.g., APIs, WinRM)
# Connection retries (Default: 3)
connect_retries = 5

# ----- Kubernetes / OpenShift Tuning -----
# Increases reliability for API-heavy tasks (kubernetes.core.* modules)
# K8s: Longer timeout for *establishing* API connections (Default: 30)
persistent_connect_timeout = 60
# K8s: Longer timeout for API *commands* (e.g., applying manifests) (Default: 30)
persistent_command_timeout = 120

# ===============================
#  Color Configuration (Explicitly set for environments like tmux)
# ===============================

[colors]
# ----- Status Colors -----
ok = green
changed = yellow
skip = cyan
unreachable = red
error = red

# ----- Extra Indicators -----
warn = yellow
debug = cyan
deprecate = magenta
diff_add = green
diff_remove = red
diff_lines = blue